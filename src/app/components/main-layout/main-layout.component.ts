import { Component } from '@angular/core';
import { SidebarComponent, Tool } from '../sidebar/sidebar.component';
import { RouterOutlet } from '@angular/router';
import { ToolStatus } from '~/app/enums/tool-status';

@Component({
    selector: 'app-main-layout',
    templateUrl: './main-layout.component.html',
    styleUrls: ['./main-layout.component.scss'],
    host: {
        class: 'grow flex w-full min-h-screen h-full'
    },
    standalone: true,
    imports: [SidebarComponent, RouterOutlet]
})
export class MainLayoutComponent {
  sidebarCollapsed = false;

  sidebarTools: Tool[] = [
    {
      id: 'search-routes',
      name: 'Searching Routes',
      route: '/search-routes',
      status: ToolStatus.RUNNING,
      svgGenerator: this.getSearchRoutesSVG,
      group: 'ACERetro'
    },
    {
      id: 'routes-optimization',
      name: 'Routes Optimization',
      route: '/routes-optimization',
      status: ToolStatus.COMING_SOON,
      svgGenerator: this.getRoutesOptimizationSVG,
      group: 'ACERetro'
    }
    // Add more tools here, potentially with different group names
  ];

  getSearchRoutesSVG(fill: string): string {
    return `
    <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
          d="M10.5469 8.3125C10.5469 8 10.4219 7.69531 10.1719 7.39844C9.92188 7.10156 9.61979 6.83073 9.26562 6.58594C9.08854 6.46615 8.91146 6.34375 8.73438 6.21875C8.55729 6.09375 8.3776 5.96615 8.19531 5.83594C7.83594 5.58073 7.53125 5.28125 7.28125 4.9375C7.03125 4.59375 6.90625 4.22917 6.90625 3.84375C6.90625 3.21875 7.0625 2.66146 7.375 2.17188C7.69271 1.68229 8.11458 1.29688 8.64062 1.01562C9.17188 0.734375 9.76042 0.59375 10.4062 0.59375C10.6823 0.59375 11.0312 0.651042 11.4531 0.765625C11.6667 0.822917 11.8542 0.869792 12.0156 0.90625C12.1771 0.9375 12.3125 0.958333 12.4219 0.96875C12.3854 1.25521 12.349 1.54427 12.3125 1.83594C12.2812 2.1224 12.25 2.41146 12.2188 2.70312C12.1875 3 12.1641 3.17708 12.1484 3.23438C12.1328 3.28646 12.1094 3.3125 12.0781 3.3125C11.9271 3.3125 11.8073 3.28125 11.7188 3.21875C11.6979 3.21354 11.6875 3.15104 11.6875 3.03125C11.6875 2.70312 11.6146 2.40625 11.4688 2.14062C11.3229 1.875 11.1302 1.66406 10.8906 1.50781C10.651 1.34635 10.3906 1.26562 10.1094 1.26562C9.51562 1.26562 9.03646 1.44531 8.67188 1.80469C8.30729 2.16406 8.125 2.61458 8.125 3.15625C8.125 3.70833 8.38021 4.1875 8.89062 4.59375C9.18229 4.82292 9.52344 5.07031 9.91406 5.33594C10.3099 5.59635 10.6536 5.84896 10.9453 6.09375C11.1589 6.27083 11.3698 6.52344 11.5781 6.85156C11.7865 7.17969 11.8906 7.52604 11.8906 7.89062C11.8906 8.21354 11.8125 8.55729 11.6562 8.92188C11.5 9.28646 11.276 9.63281 10.9844 9.96094C10.6927 10.2891 10.3073 10.5599 9.82812 10.7734C9.34896 10.987 8.82292 11.0938 8.25 11.0938C7.6875 11.0938 6.85938 10.9688 5.76562 10.7188C5.78646 10.3854 5.80208 10.1146 5.8125 9.90625C5.82292 9.69271 5.82812 9.54167 5.82812 9.45312C5.82812 9.22396 5.82292 8.99479 5.8125 8.76562C5.80208 8.53646 5.79688 8.36458 5.79688 8.25C5.79688 8.17708 5.89583 8.14062 6.09375 8.14062C6.19271 8.14062 6.29167 8.18229 6.39062 8.26562C6.39062 8.48438 6.41406 8.70312 6.46094 8.92188C6.50781 9.14062 6.59635 9.375 6.72656 9.625C6.85677 9.875 7.0651 10.0755 7.35156 10.2266C7.63802 10.3776 7.98438 10.4531 8.39062 10.4531C8.76042 10.4531 9.10938 10.3672 9.4375 10.1953C9.76562 10.0234 10.0312 9.77865 10.2344 9.46094C10.4427 9.13802 10.5469 8.75521 10.5469 8.3125Z"
          fill="${fill}"
      />
      <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M10.4063 0.84375C9.79833 0.84375 9.25056 0.975726 8.75812 1.23633C8.26897 1.49795 7.87934 1.85434 7.5853 2.30717C7.30073 2.75331 7.15632 3.26297 7.15632 3.84375C7.15632 4.17089 7.26122 4.48482 7.4835 4.79046C7.71698 5.11148 8.00202 5.392 8.34013 5.63211L8.34069 5.6325C8.52261 5.76245 8.70192 5.88979 8.87861 6.01451C9.05436 6.13856 9.23008 6.26002 9.40577 6.37887L9.40784 6.38027L9.40784 6.38028C9.77831 6.63634 10.0974 6.9218 10.3632 7.2374C10.6416 7.56809 10.7969 7.92786 10.7969 8.3125C10.7969 8.7958 10.6827 9.22729 10.4445 9.59647C10.2185 9.94974 9.92068 10.2245 9.55357 10.4168C9.18971 10.6074 8.80096 10.7031 8.39069 10.7031C7.95394 10.7031 7.56543 10.6219 7.23503 10.4477C6.91051 10.2766 6.66196 10.042 6.5049 9.74048C6.36688 9.47548 6.26917 9.21979 6.21655 8.97426C6.17574 8.78378 6.15133 8.59284 6.14348 8.40156C6.12188 8.39276 6.10548 8.39062 6.09382 8.39062C6.07744 8.39062 6.0625 8.39092 6.04893 8.39146C6.05127 8.48802 6.05569 8.60874 6.06231 8.75427C6.0729 8.98722 6.07819 9.22017 6.07819 9.45312C6.07819 9.5484 6.07269 9.70489 6.06227 9.91843L6.06225 9.91873C6.05409 10.082 6.04277 10.283 6.02831 10.5215C7.01374 10.739 7.75112 10.8438 8.25007 10.8438C8.79118 10.8438 9.28214 10.7431 9.72643 10.5451C10.1794 10.3432 10.5337 10.0917 10.7976 9.79485C11.0733 9.48468 11.2819 9.16079 11.4265 8.82339C11.5724 8.48302 11.6407 8.1729 11.6407 7.89062C11.6407 7.57668 11.5518 7.27639 11.3671 6.98556C11.1676 6.67136 10.973 6.4414 10.7858 6.28619L10.7847 6.28524C10.502 6.04797 10.1663 5.80111 9.77673 5.54479L9.77354 5.54269L9.77355 5.54267C9.3794 5.27464 9.03343 5.02384 8.73624 4.79033L8.735 4.78936L8.73501 4.78936C8.17709 4.3453 7.87507 3.79872 7.87507 3.15625C7.87507 2.55198 8.0812 2.03596 8.49644 1.62664C8.91529 1.21377 9.46134 1.01562 10.1094 1.01562C10.4413 1.01562 10.7496 1.11166 11.0288 1.29943C11.3042 1.47937 11.5239 1.72143 11.688 2.02031C11.8466 2.30931 11.9285 2.62812 11.9368 2.97206C11.9466 2.89375 11.9577 2.79553 11.9702 2.67695L11.9702 2.67649C12.0015 2.38467 12.0328 2.09545 12.064 1.80883L12.0645 1.80492L12.0645 1.80493C12.0906 1.59635 12.1166 1.38911 12.1427 1.18319C12.0876 1.17406 12.0294 1.16354 11.9682 1.15169L11.9606 1.15023L11.9606 1.15011C11.795 1.11272 11.6042 1.06498 11.3884 1.00709L11.3877 1.00689V1.00688C10.9763 0.895148 10.6512 0.84375 10.4063 0.84375ZM8.52372 0.794678C9.09366 0.492943 9.72282 0.34375 10.4063 0.34375C10.7134 0.34375 11.0862 0.4069 11.5184 0.524265C11.7278 0.58046 11.9106 0.626149 12.067 0.661537C12.2223 0.691509 12.3479 0.710568 12.4456 0.719876L12.7025 0.74434L12.6699 1.00031C12.6336 1.28594 12.5972 1.57416 12.5609 1.86498C12.5297 2.15056 12.4986 2.43874 12.4674 2.7295C12.4517 2.87881 12.4378 2.99972 12.4256 3.0914C12.4143 3.17708 12.4027 3.25252 12.3897 3.30015L12.388 3.30623L12.388 3.30621C12.3748 3.35005 12.3513 3.40876 12.305 3.46021C12.2523 3.51882 12.1737 3.5625 12.0782 3.5625C11.9032 3.5625 11.7343 3.52811 11.5936 3.4359C11.5213 3.39564 11.4886 3.33154 11.4782 3.30887C11.4606 3.2709 11.4529 3.23365 11.4488 3.20907C11.4401 3.15712 11.4376 3.09508 11.4376 3.03125C11.4376 2.74161 11.3736 2.48668 11.2497 2.26094C11.1224 2.02914 10.9572 1.84967 10.7541 1.71722L10.751 1.71515L10.751 1.71513C10.5515 1.58069 10.3395 1.51562 10.1094 1.51562C9.57004 1.51562 9.15776 1.67685 8.84744 1.98273C8.53352 2.29217 8.37507 2.67718 8.37507 3.15625C8.37507 3.61774 8.58328 4.02934 9.04577 4.39766C9.33139 4.62204 9.66699 4.86552 10.0531 5.12815C10.4543 5.39213 10.8054 5.64996 11.1055 5.90179C11.3452 6.1007 11.5722 6.37579 11.7892 6.71756C12.0213 7.08298 12.1407 7.47541 12.1407 7.89062C12.1407 8.25419 12.0527 8.63157 11.8861 9.02036C11.7182 9.41212 11.4789 9.78095 11.1713 10.127C10.8519 10.4864 10.4354 10.7766 9.92996 11.0018C9.41591 11.2309 8.85479 11.3438 8.25007 11.3438C7.65834 11.3438 6.80773 11.2134 5.70999 10.9625L5.50293 10.9151L5.51618 10.7032C5.53698 10.3703 5.55253 10.1006 5.56288 9.89377L5.81257 9.90625L5.56286 9.89407C5.57328 9.68052 5.57819 9.53493 5.57819 9.45312C5.57819 9.22775 5.57307 9.00237 5.56282 8.77698C5.55237 8.54698 5.54694 8.37047 5.54694 8.25C5.54694 8.16901 5.57668 8.09348 5.63011 8.03442C5.67871 7.98071 5.73734 7.95085 5.78473 7.93338C5.87651 7.89957 5.98654 7.89062 6.09382 7.89062C6.26779 7.89062 6.42175 7.96494 6.55173 8.0744L6.64069 8.14932V8.26562C6.64069 8.46637 6.66219 8.66757 6.70545 8.86949C6.74659 9.06146 6.82597 9.27452 6.94836 9.50952C7.05171 9.70796 7.21983 9.87444 7.46823 10.0054C7.71074 10.1333 8.01495 10.2031 8.39069 10.2031C8.72001 10.2031 9.02917 10.127 9.32157 9.97386C9.61041 9.82256 9.84369 9.608 10.0238 9.32627L10.0244 9.32541C10.2029 9.04875 10.2969 8.71462 10.2969 8.3125C10.2969 8.07214 10.2022 7.82253 9.98071 7.55947C9.74671 7.2816 9.46197 7.02562 9.12454 6.79228C8.94642 6.67178 8.76833 6.54868 8.59027 6.42299C8.41287 6.29777 8.23288 6.16995 8.05029 6.03953C7.66979 5.76927 7.34558 5.45091 7.07913 5.08454C6.80141 4.70268 6.65632 4.28744 6.65632 3.84375C6.65632 3.17487 6.82423 2.5702 7.16434 2.03737L7.16535 2.03578L7.16535 2.03578C7.50658 1.50996 7.96038 1.09586 8.52282 0.795158L8.52372 0.794676L8.52372 0.794678Z"
          fill="${fill}"
      />
      <path
          d="M4 14L7.52609 17.5261L4 21.0522H5.76304L9.28913 17.5261L5.76304 14H4Z"
          fill="${fill}"
      />
      <path
          d="M0 14L3.52609 17.5261L0 21.0522H1.76304L5.28913 17.5261L1.76304 14H0Z"
          fill="${fill}"
      />
      <path
          d="M8 14L11.5261 17.5261L8 21.0522H9.76304L13.2891 17.5261L9.76304 14H8Z"
          fill="${fill}"
      />
      <path
          d="M12 14L15.5261 17.5261L12 21.0522H13.763L17.2891 17.5261L13.763 14H12Z"
          fill="${fill}"
      />
    </svg>`;
  }

  getRoutesOptimizationSVG(fill: string): string {
    return `<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M7 1C7 0.447715 7.44772 0 8 0H13C13.5523 0 14 0.447715 14 1V6C14 6.55228 13.5523 7 13 7H11V9.1427C11 9.69499 11.4477 10.1427 12 10.1427H17C17.5523 10.1427 18 10.5904 18 11.1427V14H20C20.5523 14 21 14.4477 21 15V20C21 20.5523 20.5523 21 20 21H15C14.4477 21 14 20.5523 14 20V15C14 14.4477 14.4477 14 15 14H17V12.1427C17 11.5904 16.5523 11.1427 16 11.1427H5C4.44772 11.1427 4 11.5904 4 12.1427V14H6C6.55228 14 7 14.4477 7 15V20C7 20.5523 6.55228 21 6 21H1C0.447715 21 0 20.5523 0 20V15C0 14.4477 0.447715 14 1 14H3V11.1427C3 10.5904 3.44772 10.1427 4 10.1427H9C9.55229 10.1427 10 9.69499 10 9.1427V7H8C7.44772 7 7 6.55228 7 6V1ZM12.5 1H11.25C11.1119 1 11 1.11193 11 1.25C11 1.38807 11.1119 1.5 11.25 1.5H12.2C12.3657 1.5 12.5 1.63431 12.5 1.8V2.75C12.5 2.88807 12.6119 3 12.75 3C12.8881 3 13 2.88807 13 2.75V1.5V1.3C13 1.13431 12.8657 1 12.7 1H12.5ZM19.5 15H18.25C18.1119 15 18 15.1119 18 15.25C18 15.3881 18.1119 15.5 18.25 15.5H19.2C19.3657 15.5 19.5 15.6343 19.5 15.8V16.75C19.5 16.8881 19.6119 17 19.75 17C19.8881 17 20 16.8881 20 16.75V15.5V15.3C20 15.1343 19.8657 15 19.7 15H19.5ZM5.5 15H4.25C4.11193 15 4 15.1119 4 15.25C4 15.3881 4.11193 15.5 4.25 15.5H5.2C5.36569 15.5 5.5 15.6343 5.5 15.8V16.75C5.5 16.8881 5.61193 17 5.75 17C5.88807 17 6 16.8881 6 16.75V15.5V15.3C6 15.1343 5.86569 15 5.7 15H5.5Z"
        fill="${fill}"
      />
    </svg>`;
  }

  onSidebarCollapsedChange(collapsed: boolean) {
    this.sidebarCollapsed = collapsed;
  }
}
